sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: aeJM6xSdegpNU869DHUdvrtBg0QZiUzJM72LQxs+OlbEZog7WvpJuikOIAloedBwerqHsuH49PT4oe4UF/Dl9GAVL7S7XdZuQnWFVEQFN1vM8A3Po8OuwR6MgeB/mBUxK2C7pdHhf9liNfI67znapZzNevKaigDEfepAchpP86WtRg/GA81N7i11AKuanDIMWtrKxSrbbNI42E46OyhqqEwdSGp0SozAWlOHiARngSWJV6NyR7tEMYwFMaqhot7VcJBx/mRPkZwpv2r5qd+a2ZkM8KP2Lq3fjFgv+EIaCOirNDjSP9NuLNql7nifiojtm6lxBzp3klu4YDOHwBSMrpwyhnKU4UJiavq58wHsxcqT+TcU0p8geK2f1SOV3cqwMNfaUFgX3S6Z292BPkGlO5vZpLvxVj7dYUoSbA2MmED6Z1C0/u7r+k38sJZoihLoIhbGZ234sHKEg760VKygng8HvUjG/DwaHeFNUIpTeai4/fnVGgTkeom5rAfOdrWhRJeNMuV0HlCnImke0fcjKHStI9a3sXX4kY2utoknJjWytiFkLJ8u7fTf4AmStDJuw8FBfZ/Yek5+k5yHO2BOR3pgqq3Hoxu/hnQqg8+gK0LSNEOmGwyhWwx7dflg6TBIMqXUxg65OXjPqTbOygOY9GyjBXYGlfSF1hrC3fIxo0E=
  - secure: UHagrWFZx4hYREGGfa3qKuOdI+j3+Mwlw6dKgTa4xSIj/c3CwySPyeWihCBigE8FLUiFAUeIx6YxFK0POYv/2j9JnyXsNX5IilLBfliGjAyHcjypGD4JjhNH5ScSNb0r+MyAyVy9utjr1LOuD+JuNF1zylXQoRcOMFqhMnaWbpAHcd3HLEkhc/8SHGHhcgiHrLG+pRZtNbDYBo2XvKSTkut/VxUJU7jrcidOESOxS6ES0vcQlHubo7ZIa1XwsODU7XewKIcT2yKyBZo6CSYLZ4dOzC7jd7P9y/AOlilxInFHZdCgZfAVmlOd0U8jkNd8g0gGASaTL56u9HEy00fRpNaGd9skLDE1ZPK0OzUBVWJrLXnRpVNoc/S8ABv4WoAiQCIBEJSEw6uxAA8k/SngQYvmXoZgj2RPg+c+aozKsz46mmLBmesDmuitGVWs6wgm8g0qDDhTv8boupMZZhviY0q0Oib9f6Ti7Ev7Ew4B07AVvXEdcrQeEbPyeURLo2U+x1rtJKH4wWTqTF2h0ts35B0Mi0x4j5btHwXC6DCkdiHVjEM8532f7bpkuESZxgxSvKDZJ5m50Hu8zRNRIPUtRlPEWje8ewig0mttb62bclGSpfTLQ1Yr2Bjr+ZCJ/xM7pLoHNGbHo/JfUHGjPgfr3HczFYM1mP6lRNhKJxVo9mg=
