<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="px-card.html"/>

<!-- this is a sample card which shows how to communicate with the outside world/other cards (through the deck) -->
<dom-module id="sample-card2">
    <template>
        <px-card>
            <div>Count:<span>{{count}}</span></div>
            <button on-click="broadcastCount">Increment count</button>
        </px-card>
    </template>
</dom-module>
<script>

    Polymer({
        is: 'sample-card2',
        init: function() {
            this.count = 5;
        },
        deckStateChanged: function(newState, oldState) {
            if(newState.count) {
                this.count = newState.count;
            }
        },
        broadcastCount: function() {
            this.count++;
            this.updateDeck({
                count: this.count
            });
        },
        behaviors: [px.card],
        attached: function(){
            this.toggleClass('layout');
            this.toggleClass('m--');
        }
    });
</script>